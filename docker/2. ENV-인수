<h2> 인수 - ENV </h2>

인수를 사용하면 좀더 유연한 build가 가능하다

예를 들어 각각 이미지를 서로 다른 값으로 컨테이너를 실행되는 상황이 있다면 ? (port를 하나는 8081, 하나는 8091 등등)\

ENV 명령어로 Dockerfile 내부에서 설정후 알릴수 있다.

`
ENV PORT 80 #(80은 디폴트로 설정할 값)

EXPOSE $PORT #($를 통해 PORT 변수를 Dockerfile에서 찾는다)

`
docker run hello-workd --env PORT=8081
docker run hello-workd --env PORT=8091
`

--env를 --e로 줄이기 가능

여러개 적용 해야될경우엔 볼륨 처럼 -e PORT=8091 -e PATH=/root/admin 등 가능

이렇게 하면 굳이 이미지를 리빌드 할 필요없이 컨테이너 생성과정에서 원하는 값을 넣을수가 있다.

또한 만약 파일로 하고싶을경우엔

.env 라는 파일을 생성하여 내부에 key-value로 정의해두고

--env-file ./env

파일 자체로도 활용 가능하다.

`
PORT=8091
PATH=/root/admin
`

파일의 최대 이점은 docker run 할때 동일한 명령어로 실행할수 있고, .env 파일에서 수정을 하면 된다.


스프링 부트를 사용할 경우 yml 파일과 잘 조합하여 사용해보자


